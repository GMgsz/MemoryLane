# MemoryLane - 智能记忆分析系统

## 项目概述
MemoryLane 是一个智能对话系统，通过自然对话的方式收集、分析和组织用户的生命故事。系统通过渐进式开发，使用Langchain开发，实现智能对话管理、内容分析和动态主题生成，最终形成连贯的生命故事叙述。

## 核心功能目标
1. **智能对话收集**
   - 自然的对话流程
   - 智能的问题生成
   - 有效的记忆唤起
   - 深度的内容引导

2. **内容理解与组织**
   - 深度语义理解
   - 实体关系分析
   - 事件因果链接
   - 时序关联构建

3. **知识图谱构建**
   - 实体关系网络
   - 事件影响分析
   - 时间线梳理
   - 主题关联图谱

4. **动态主题生成**
   - 内容自然聚类
   - 主题动态形成
   - 子主题智能生成
   - 叙事文本生成

## 系统架构
### 1. 对话管理系统
- **对话策略**
  - 基于上下文的问题生成
  - 智能的话题切换
  - 深度优先的探索策略
- **指标评估**
  - 情感分数 (emotion_score)：评估用户的情感状态
  - 兴趣分数 (interest_score)：衡量用户的参与度
  - 完整度分数 (completion_score)：评估内容的完整性
  - 主题权重 (topic_weight)：确定主题的重要性

- **决策机制**
  - 基于固定权重的指标组合（第一阶段）
  - 动态调整的权重系统（后续优化）

### 2. 内容处理系统
- **实体提取**
  - 核心要素：人物、事件、时间、地点
  - 关系识别：实体间的关联关系

- **主题识别**
  - 基于预定义主题配置
  - 多主题关联分析

- **内容存储**
  - 结构化存储：ContentSegment
  - 包含：原始内容、实体关系、主题分类、对话上下文

### 3. 主题管理系统
- **主题分类**
  - 预定义主题（配置文件）
  - 动态子主题生成

- **触发机制**
  - 内容数量阈值
  - 实体关联度
  - 用户兴趣度
  - 时间跨度评估

## 第一阶段：基础的内容处理和存储
1. **内容处理**
   - 对话内容的结构化：转换为结构化数据
   - 实体识别：识别人物、事件、时间等关键实体
   - 关系提取：识别实体之间的关联关系
   - 主题分类：将内容归类到预定义主题

2. **存储机制**
   - 向量存储：用于相似内容检索
   - 结构化存储：保存实体和关系
   - 时序存储：维护对话和事件时间线
   - 上下文关联：保持对话连贯性

## 第二阶段：模式分析功能
通过多维度分析，发现内容中的潜在模式

1. **实体模式**
   - 频率分析：统计实体在不同时期的出现频率
   - 共现分析：实体共现关系
   - 情感关联：实体情感倾向
   - 重要性评估：实体重要程度

2. **事件模式**
   - 时间序列：构建完整事件时间线，识别关键节点
   - 因果关系：识别事件间的因果链
   - 影响分析：事件影响
   - 重复模式：类似事件识别

3. **主题模式**
   - 主题聚类：相关内容聚合
   - 关键词分布：主题词汇分布
   - 主题演变：时间维度变化
   - 主题关联：主题间联系

## 第三阶段：动态子主题生成
基于内容积累和模式分析，自然形成子主题

1. **触发机制**
   - 数量阈值：内容数量触发
   - 相似度聚类：内容聚类触发
   - 用户兴趣：兴趣度触发
   - 时间跨度：时间范围触发

2. **生成策略**
   - 内容聚类：基于向量相似度、实体关系、时间线的多维度聚类
   - 特征提取：基于主要实体、核心事件、时间特征进行主题定义
   - 关系网络：基于实体关系
   - 时序关联：基于时间线

3. **质量控制**
   - 完整性：内容完整度
   - 连贯性：逻辑关联
   - 重要性：重要程度
   - 独特性：区分度

## 开发进度
### 已完成
1. 基础框架搭建
2. 对话内容的结构化
3. 基本的实体识别
4. 简单的主题分类
5. 向量存储的基础实现

### 进行中
1. 完善关系提取
2. 改进存储机制
3. 加强上下文关联

## 使用说明
[待补充]

## 贡献指南
[待补充]

## 许可证
[待补充] 